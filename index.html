<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CivilQuickCalc</title>

<style>
body { font-family: Arial; padding:20px; max-width:600px; margin:auto; }
h2 { margin-top:30px; }
input, select, button {
    width:100%;
    padding:8px;
    margin:6px 0;
}
button { background:#1f4e79; color:white; border:none; }
.result { background:#f4f4f4; padding:10px; margin-top:10px; }
.small { font-size:12px; color:gray; }
</style>
</head>
<body>

<h1>CivilQuickCalc</h1>
<p class="small">Preliminary estimation tool only. Not for final design approval.</p>

<!-- CONCRETE CALCULATOR -->
<h2>Concrete Volume</h2>
<input id="length" placeholder="Length">
<select id="lengthUnit">
  <option value="m">m</option>
  <option value="mm">mm</option>
  <option value="ft">ft</option>
</select>

<input id="width" placeholder="Width">
<select id="widthUnit">
  <option value="m">m</option>
  <option value="mm">mm</option>
  <option value="ft">ft</option>
</select>

<input id="thickness" placeholder="Thickness">
<select id="thicknessUnit">
  <option value="m">m</option>
  <option value="mm">mm</option>
  <option value="ft">ft</option>
</select>

<button onclick="calcConcrete()">Calculate</button>
<div id="concreteResult" class="result"></div>

<!-- REBAR -->
<h2>Rebar Weight</h2>
<input id="dia" placeholder="Diameter (mm)">
<input id="rebarLength" placeholder="Length (m)">
<input id="qty" placeholder="Quantity">
<button onclick="calcRebar()">Calculate</button>
<div id="rebarResult" class="result"></div>

<!-- BEAM DEFLECTION -->
<h2>Beam Deflection (UDL)</h2>
<input id="w" placeholder="Load w (kN/m)">
<input id="span" placeholder="Span L (m)">
<input id="E" placeholder="E (GPa)">
<input id="b" placeholder="Section width b (mm)">
<input id="h" placeholder="Section depth h (mm)">
<button onclick="calcDeflection()">Calculate</button>
<div id="deflectionResult" class="result"></div>

<button onclick="downloadPDF()">Download PDF Report ($1 unlock)</button>

<script>

// UNIT CONVERSION
function toMeters(value, unit) {
    value = parseFloat(value);
    if(unit === "mm") return value / 1000;
    if(unit === "ft") return value * 0.3048;
    return value;
}

// CONCRETE
function calcConcrete(){
    let L = toMeters(length.value, lengthUnit.value);
    let W = toMeters(width.value, widthUnit.value);
    let T = toMeters(thickness.value, thicknessUnit.value);

    let V = L * W * T;
    let dry = 1.54 * V;

    let cementVol = dry / 7;
    let bags = cementVol / 0.035;

    concreteResult.innerHTML =
        "Volume: " + V.toFixed(3) + " m³<br>" +
        "Cement Bags (~): " + bags.toFixed(1);
}

// REBAR
function calcRebar(){
    let d = parseFloat(dia.value);
    let L = parseFloat(rebarLength.value);
    let q = parseFloat(qty.value);

    let weightPerM = (d*d)/162;
    let total = weightPerM * L * q;

    rebarResult.innerHTML =
        "Total Weight: " + total.toFixed(2) + " kg";
}

// DEFLECTION
function calcDeflection(){
    let w = parseFloat(document.getElementById("w").value) * 1000; // kN→N
    let L = parseFloat(span.value);
    let E = parseFloat(document.getElementById("E").value) * 1e9; // GPa→Pa
    let bVal = parseFloat(b.value)/1000; // mm→m
    let hVal = parseFloat(h.value)/1000;

    let I = (bVal * Math.pow(hVal,3))/12;
    let delta = (5*w*Math.pow(L,4))/(384*E*I);

    let limit = L/250;

    deflectionResult.innerHTML =
        "Deflection: " + (delta*1000).toFixed(2) + " mm<br>" +
        (delta < limit ? "PASS (L/250)" : "FAIL (L/250)");
}

// PDF GENERATOR
function downloadPDF(){
    alert("This feature unlocks after payment integration.");
}

</script>

</body>
</html>