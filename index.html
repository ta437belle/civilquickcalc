<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Free Concrete Volume & Rebar Calculator | CivilQuickCalc</title>

<style>
body { font-family: Arial, sans-serif; padding:20px; max-width:700px; margin:auto; }
h1 { text-align:center; }
h2 { margin-top:35px; }
input, select, button {
    width:100%;
    padding:10px;
    margin:6px 0;
    font-size:16px;
}
button {
    background:#1f4e79;
    color:white;
    border:none;
    cursor:pointer;
}
button:hover { background:#16395a; }
.result {
    background:#f4f4f4;
    padding:12px;
    margin-top:10px;
}
.small { font-size:12px; color:gray; }
</style>
</head>
<body>

<h1>CivilQuickCalc</h1>
<p class="small">
Preliminary estimation tool only. Not for final design approval.
Users must independently verify calculations.
</p>

<!-- ================= CONCRETE ================= -->
<h2>Concrete Volume Calculator</h2>

<select id="shape">
  <option value="rect">Rectangular Slab/Beam</option>
  <option value="circular">Circular Column</option>
</select>

<input id="length" placeholder="Length (or Height)">
<select id="lengthUnit">
  <option value="m">m</option>
  <option value="mm">mm</option>
  <option value="ft">ft</option>
</select>

<input id="width" placeholder="Width (or Diameter)">
<select id="widthUnit">
  <option value="m">m</option>
  <option value="mm">mm</option>
  <option value="ft">ft</option>
</select>

<input id="thickness" placeholder="Thickness (Rectangular only)">
<select id="thicknessUnit">
  <option value="m">m</option>
  <option value="mm">mm</option>
  <option value="ft">ft</option>
</select>

<select id="wastage">
  <option value="0">No Wastage</option>
  <option value="5">+5% Wastage</option>
  <option value="10">+10% Wastage</option>
</select>

<button onclick="calcConcrete()">Calculate Concrete</button>
<div id="concreteResult" class="result"></div>

<!-- ================= REBAR ================= -->
<h2>Rebar Weight Calculator</h2>

<input id="dia" placeholder="Diameter (mm)">
<input id="rebarLength" placeholder="Length (m)">
<input id="qty" placeholder="Quantity">

<button onclick="calcRebar()">Calculate Rebar</button>
<div id="rebarResult" class="result"></div>

<!-- ================= DEFLECTION ================= -->
<h2>Beam Deflection (Simply Supported - UDL)</h2>

<input id="w" placeholder="Load w (kN/m)">
<input id="span" placeholder="Span L (m)">
<input id="E" placeholder="E (GPa)">
<input id="b" placeholder="Section width b (mm)">
<input id="h" placeholder="Section depth h (mm)">

<button onclick="calcDeflection()">Calculate Deflection</button>
<div id="deflectionResult" class="result"></div>

<script>

// ================= UNIT CONVERSION =================
function toMeters(value, unit) {
    value = parseFloat(value);
    if (unit === "mm") return value / 1000;
    if (unit === "ft") return value * 0.3048;
    return value;
}

// ================= CONCRETE =================
function calcConcrete(){

    let shape = document.getElementById("shape").value;

    let L = parseFloat(document.getElementById("length").value);
    let W = parseFloat(document.getElementById("width").value);
    let T = parseFloat(document.getElementById("thickness").value);

    if(isNaN(L) || isNaN(W)){
        concreteResult.innerHTML = "Please enter valid numbers.";
        return;
    }

    L = toMeters(L, lengthUnit.value);
    W = toMeters(W, widthUnit.value);

    let V;

    if(shape === "rect"){
        if(isNaN(T)){
            concreteResult.innerHTML = "Please enter thickness.";
            return;
        }
        T = toMeters(T, thicknessUnit.value);
        V = L * W * T;
    } else {
        // Circular column
        let radius = W / 2;
        V = Math.PI * Math.pow(radius,2) * L;
    }

    let wastePercent = parseFloat(wastage.value);
    let finalVolume = V * (1 + wastePercent/100);

    concreteResult.innerHTML =
        "Net Volume: " + V.toFixed(3) + " m³<br>" +
        "Volume incl. Wastage: " + finalVolume.toFixed(3) + " m³";
}

// ================= REBAR =================
function calcRebar(){

    let d = parseFloat(dia.value);
    let L = parseFloat(rebarLength.value);
    let q = parseFloat(qty.value);

    if(isNaN(d) || isNaN(L) || isNaN(q)){
        rebarResult.innerHTML = "Please enter valid numbers.";
        return;
    }

    let weightPerM = (d*d)/162;
    let total = weightPerM * L * q;

    rebarResult.innerHTML =
        "Weight per meter: " + weightPerM.toFixed(3) + " kg/m<br>" +
        "Total Weight: " + total.toFixed(2) + " kg";
}

// ================= DEFLECTION =================
function calcDeflection(){

    let wVal = parseFloat(w.value);
    let LVal = parseFloat(span.value);
    let EVal = parseFloat(E.value);
    let bVal = parseFloat(b.value);
    let hVal = parseFloat(h.value);

    if(isNaN(wVal) || isNaN(LVal) || isNaN(EVal) || isNaN(bVal) || isNaN(hVal)){
        deflectionResult.innerHTML = "Please enter valid numbers.";
        return;
    }

    let wN = wVal * 1000;          // kN → N
    let EPa = EVal * 1e9;          // GPa → Pa
    let bM = bVal / 1000;          // mm → m
    let hM = hVal / 1000;

    let I = (bM * Math.pow(hM,3)) / 12;
    let delta = (5 * wN * Math.pow(LVal,4)) / (384 * EPa * I);

    let limit = LVal / 250;

    deflectionResult.innerHTML =
        "Deflection: " + (delta*1000).toFixed(2) + " mm<br>" +
        (delta < limit ? "PASS (L/250)" : "FAIL (L/250)");
}

</script>

</body>
</html>